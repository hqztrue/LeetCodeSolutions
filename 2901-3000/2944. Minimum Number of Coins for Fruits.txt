DP. Let f[i] denote the optimal cost to buy items i~n. monotone queue. O(n).

