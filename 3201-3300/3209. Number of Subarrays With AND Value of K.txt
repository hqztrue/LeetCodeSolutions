Two pointers, simulate deque using two stacks. O(n).

